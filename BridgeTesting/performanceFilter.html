<html><body>

<form name=inputy>
<!--
<textarea name="logCatOutput" wrap="none" cols="40" rows="20">
I/PlatformModule(27674): __TRACKING {name:"PlatformModule::getter_osname()",threadTime:[{sec:0,nsec:687377898},{sec:0,nsec:687408416},{sec:0,nsec:687408416},{sec:0,nsec:687408416},{sec:0,nsec:687438933},{sec:0,nsec:687438933},{sec:0,nsec:687469451}],processTime:[{sec:1,nsec:848297104},{sec:1,nsec:848327622},{sec:1,nsec:848327622},{sec:1,nsec:848327622},{sec:1,nsec:848358139},{sec:1,nsec:848358139},{sec:1,nsec:848388657}],wallTime:[{sec:1367370552,nsec:592395547},{sec:1367370552,nsec:592395547},{sec:1367370552,nsec:592395547},{sec:1367370552,nsec:592426064},{sec:1367370552,nsec:592426064},{sec:1367370552,nsec:592456582},{sec:1367370552,nsec:592456582}],pid:27674,thread:17763800}
I/TitaniumModule(27674): __TRACKING {name:"TitaniumModule::dumpCoverage()",threadTime:[{sec:0,nsec:687683074},{sec:0,nsec:687683074},{sec:0,nsec:687713592},{sec:0,nsec:687713592},{sec:0,nsec:687866180},{sec:0,nsec:687896697},{sec:0,nsec:687896697}],processTime:[{sec:1,nsec:848602280},{sec:1,nsec:848602280},{sec:1,nsec:848632798},{sec:1,nsec:848632798},{sec:1,nsec:848815903},{sec:1,nsec:848815903},{sec:1,nsec:848815903}],wallTime:[{sec:1367370552,nsec:592670205},{sec:1367370552,nsec:592700723},{sec:1367370552,nsec:592700723},{sec:1367370552,nsec:592700723},{sec:1367370552,nsec:592883828},{sec:1367370552,nsec:592883828},{sec:1367370552,nsec:592914346}],pid:27674,thread:17763800}
I/KrollProxy(27674): __TRACKING {name:"KrollProxy::_fireEventToParent()",threadTime:[{sec:0,nsec:688446014},{sec:0,nsec:688446014},{sec:0,nsec:688446014},{sec:0,nsec:688598601},{sec:0,nsec:688659637},{sec:0,nsec:688690154},{sec:0,nsec:688690154}],processTime:[{sec:1,nsec:849365220},{sec:1,nsec:849365220},{sec:1,nsec:849365220},{sec:1,nsec:849517807},{sec:1,nsec:849578843},{sec:1,nsec:849609360},{sec:1,nsec:849609360}],wallTime:[{sec:1367370552,nsec:593433144},{sec:1367370552,nsec:593433144},{sec:1367370552,nsec:593463662},{sec:1367370552,nsec:593616250},{sec:1367370552,nsec:593677285},{sec:1367370552,nsec:593677285},{sec:1367370552,nsec:593677285}],pid:27674,thread:17763800}
I/KrollProxy(27674): __TRACKING {name:"KrollProxy::_fireEventToParent()",threadTime:[{sec:0,nsec:689788787},{sec:0,nsec:689819304},{sec:0,nsec:689849822},{sec:0,nsec:689971892},{sec:0,nsec:690002410},{sec:0,nsec:690032927},{sec:0,nsec:690032927}],processTime:[{sec:1,nsec:854766830},{sec:1,nsec:854766830},{sec:1,nsec:854797348},{sec:1,nsec:854949936},{sec:1,nsec:854949936},{sec:1,nsec:854980453},{sec:1,nsec:854980453}],wallTime:[{sec:1367370552,nsec:601489784},{sec:1367370552,nsec:601489784},{sec:1367370552,nsec:601520302},{sec:1367370552,nsec:601672890},{sec:1367370552,nsec:601672890},{sec:1367370552,nsec:601703408},{sec:1367370552,nsec:601703408}],pid:27674,thread:17763800}
I/KrollProxy(27674): __TRACKING {name:"KrollProxy::_fireEventToParent()",threadTime:[{sec:0,nsec:690826384},{sec:0,nsec:690856902},{sec:0,nsec:690856902},{sec:0,nsec:691009490},{sec:0,nsec:691070525},{sec:0,nsec:691101043},{sec:0,nsec:691101043}],processTime:[{sec:1,nsec:882110581},{sec:1,nsec:882141099},{sec:1,nsec:882141099},{sec:1,nsec:882293687},{sec:1,nsec:882354722},{sec:1,nsec:882385240},{sec:1,nsec:882385240}],wallTime:[{sec:1367370552,nsec:650836710},{sec:1367370552,nsec:650836710},{sec:1367370552,nsec:650867228},{sec:1367370552,nsec:650989298},{sec:1367370552,nsec:651080851},{sec:1367370552,nsec:651080851},{sec:1367370552,nsec:651080851}],pid:27674,thread:17763800}
I/KrollProxy(27674): __TRACKING {name:"KrollProxy::_fireEventToParent()",threadTime:[{sec:0,nsec:691833465},{sec:0,nsec:691863982},{sec:0,nsec:691863982},{sec:0,nsec:691986052},{sec:0,nsec:691986052},{sec:0,nsec:692016570},{sec:0,nsec:692016570}],processTime:[{sec:1,nsec:883117662},{sec:1,nsec:883148179},{sec:1,nsec:883148179},{sec:1,nsec:883270249},{sec:1,nsec:883270249},{sec:1,nsec:883300767},{sec:1,nsec:883300767}],wallTime:[{sec:1367370552,nsec:651813273},{sec:1367370552,nsec:651843790},{sec:1367370552,nsec:651843790},{sec:1367370552,nsec:651965861},{sec:1367370552,nsec:651996378},{sec:1367370552,nsec:651996378},{sec:1367370552,nsec:651996378}],pid:27674,thread:17763800}
I/PlatformModule(27674): __TRACKING {name:"PlatformModule::getter_osname()",threadTime:[{sec:0,nsec:744110076},{sec:0,nsec:744140594},{sec:0,nsec:744140594},{sec:0,nsec:744171111},{sec:0,nsec:744171111},{sec:0,nsec:744201629},{sec:0,nsec:744201629}],processTime:[{sec:1,nsec:969604480},{sec:1,nsec:969634998},{sec:1,nsec:969634998},{sec:1,nsec:969665515},{sec:1,nsec:969665515},{sec:1,nsec:969696033},{sec:1,nsec:969696033}],wallTime:[{sec:1367370553,nsec:14636758},{sec:1367370553,nsec:14636758},{sec:1367370553,nsec:14636758},{sec:1367370553,nsec:14667276},{sec:1367370553,nsec:14697794},{sec:1367370553,nsec:14697794},{sec:1367370553,nsec:14728311}],pid:27674,thread:17763800}
I/TitaniumModule(27674): __TRACKING {name:"TitaniumModule::dumpCoverage()",threadTime:[{sec:0,nsec:744384734},{sec:0,nsec:744415252},{sec:0,nsec:744415252},{sec:0,nsec:744445770},{sec:0,nsec:744598358},{sec:0,nsec:744598358},{sec:0,nsec:744628875}],processTime:[{sec:1,nsec:969879138},{sec:1,nsec:969909656},{sec:1,nsec:969909656},{sec:1,nsec:969940174},{sec:1,nsec:970092762},{sec:1,nsec:970092762},{sec:1,nsec:970123279}],wallTime:[{sec:1367370553,nsec:14911417},{sec:1367370553,nsec:14911417},{sec:1367370553,nsec:14941934},{sec:1367370553,nsec:14941934},{sec:1367370553,nsec:15094522},{sec:1367370553,nsec:15125040},{sec:1367370553,nsec:15125040}],pid:27674,thread:17763800}
I/KrollProxy(27674): __TRACKING {name:"KrollProxy::_fireEventToParent()",threadTime:[{sec:0,nsec:745056121},{sec:0,nsec:745086639},{sec:0,nsec:745086639},{sec:0,nsec:745239227},{sec:0,nsec:745300262},{sec:0,nsec:745330779},{sec:0,nsec:745330779}],processTime:[{sec:1,nsec:970550525},{sec:1,nsec:970581043},{sec:1,nsec:970581043},{sec:1,nsec:970733631},{sec:1,nsec:970794666},{sec:1,nsec:970825183},{sec:1,nsec:970825183}],wallTime:[{sec:1367370553,nsec:15552286},{sec:1367370553,nsec:15582803},{sec:1367370553,nsec:15582803},{sec:1367370553,nsec:15735391},{sec:1367370553,nsec:15826944},{sec:1367370553,nsec:15826944},{sec:1367370553,nsec:15826944}],pid:27674,thread:17763800}
I/KrollProxy(27674): __TRACKING {name:"KrollProxy::_fireEventToParent()",threadTime:[{sec:0,nsec:746551482},{sec:0,nsec:746581999},{sec:0,nsec:746581999},{sec:0,nsec:746826140},{sec:0,nsec:746856657},{sec:0,nsec:746856657},{sec:0,nsec:746887175}],processTime:[{sec:1,nsec:977081288},{sec:1,nsec:977111805},{sec:1,nsec:977111805},{sec:1,nsec:996124257},{sec:1,nsec:996154774},{sec:1,nsec:996154774},{sec:1,nsec:996185292}],wallTime:[{sec:1367370553,nsec:23059610},{sec:1367370553,nsec:23059610},{sec:1367370553,nsec:23059610},{sec:1367370553,nsec:64502479},{sec:1367370553,nsec:64502479},{sec:1367370553,nsec:64532996},{sec:1367370553,nsec:64532996}],pid:27674,thread:17763800}
I/KrollProxy(27674): __TRACKING {name:"KrollProxy::_fireEventToParent()",threadTime:[{sec:0,nsec:747955290},{sec:0,nsec:747985807},{sec:0,nsec:748016325},{sec:0,nsec:748138395},{sec:0,nsec:748229948},{sec:0,nsec:748229948},{sec:0,nsec:748229948}],processTime:[{sec:2,nsec:55419914},{sec:2,nsec:55419914},{sec:2,nsec:55450432},{sec:2,nsec:55572502},{sec:2,nsec:55664055},{sec:2,nsec:55664055},{sec:2,nsec:55694572}],wallTime:[{sec:1367370553,nsec:160297157},{sec:1367370553,nsec:160327674},{sec:1367370553,nsec:160327674},{sec:1367370553,nsec:160480262},{sec:1367370553,nsec:160541297},{sec:1367370553,nsec:160541297},{sec:1367370553,nsec:160571815}],pid:27674,thread:17763800}
I/KrollProxy(27674): __TRACKING {name:"KrollProxy::_fireEventToParent()",threadTime:[{sec:0,nsec:748901335},{sec:0,nsec:748901335},{sec:0,nsec:748931852},{sec:0,nsec:749053922},{sec:0,nsec:749053922},{sec:0,nsec:749084440},{sec:0,nsec:749084440}],processTime:[{sec:2,nsec:56335442},{sec:2,nsec:56335442},{sec:2,nsec:56365959},{sec:2,nsec:56488029},{sec:2,nsec:56488029},{sec:2,nsec:56518547},{sec:2,nsec:56518547}],wallTime:[{sec:1367370553,nsec:161212684},{sec:1367370553,nsec:161243202},{sec:1367370553,nsec:161243202},{sec:1367370553,nsec:161365272},{sec:1367370553,nsec:161365272},{sec:1367370553,nsec:161395789},{sec:1367370553,nsec:161395789}],pid:27674,thread:17763800}
I/PlatformModule(27674): __TRACKING {name:"PlatformModule::getter_osname()",threadTime:[{sec:0,nsec:777008025},{sec:0,nsec:777008025},{sec:0,nsec:777038542},{sec:0,nsec:777038542},{sec:0,nsec:777069060},{sec:0,nsec:777069060},{sec:0,nsec:777130095}],processTime:[{sec:2,nsec:89050286},{sec:2,nsec:89050286},{sec:2,nsec:89080803},{sec:2,nsec:89080803},{sec:2,nsec:89111321},{sec:2,nsec:89111321},{sec:2,nsec:89172356}],wallTime:[{sec:1367370553,nsec:348132852},{sec:1367370553,nsec:348163370},{sec:1367370553,nsec:348163370},{sec:1367370553,nsec:348163370},{sec:1367370553,nsec:348193887},{sec:1367370553,nsec:348529581},{sec:1367370553,nsec:348560098}],pid:27674,thread:17763800}
I/TitaniumModule(27674): __TRACKING {name:"TitaniumModule::dumpCoverage()",threadTime:[{sec:0,nsec:777374236},{sec:0,nsec:777374236},{sec:0,nsec:777374236},{sec:0,nsec:777404754},{sec:0,nsec:777587859},{sec:0,nsec:777587859},{sec:0,nsec:777618376}],processTime:[{sec:2,nsec:89416497},{sec:2,nsec:89416497},{sec:2,nsec:89447015},{sec:2,nsec:89447015},{sec:2,nsec:89630120},{sec:2,nsec:89630120},{sec:2,nsec:89660637}],wallTime:[{sec:1367370553,nsec:348804239},{sec:1367370553,nsec:348804239},{sec:1367370553,nsec:348834757},{sec:1367370553,nsec:348834757},{sec:1367370553,nsec:349078897},{sec:1367370553,nsec:349109415},{sec:1367370553,nsec:349109415}],pid:27674,thread:17763800}

</textarea>
<br>
<INPUT TYPE=BUTTON OnClick="processText();" VALUE="Process Logcat input">
<br> -->
<textarea name="searchField" wrap="physical" cols="40" rows="1" onKeyUp="summarize()"></textarea>
<INPUT TYPE=BUTTON OnClick="summarize();" VALUE="Search"><br>
<input type="radio" name="group1" value="threadTime" checked>threadTime<br>
<input type="radio" name="group1" value="processTime" checked>processTime<br>
<input type="radio" name="group1" value="wallTime">wallTime
</form>

<div id="Summary"></div>
<div id="Breakdown"></div>

<script language="javascript">
logDatabase = {};
count = 0;

String.prototype.trim = function () {
    var l=0; var r=this.length -1;
    while(l < this.length && this[l] == ' ')l++;
    while(r > l && this[r] == ' ')r-=1;
    return this.substring(l, r+1);
}

function processText(){
	var summary = document.getElementById('Summary');
	var inputs = [//document.inputy.logCatOutput.value.split("\n");

//#########

];
	logDatabase = {};
	count = 0;
	summary.innerHTML = inputs.length + ' lines found.<br>';
	for (var i=0;i<inputs.length;i++){
		try{
		var rowText = inputs[i];
//		if (rowText.indexOf("__TRACKING")<0) continue;
//		eval("var row = " + rowText.substr(rowText.indexOf("{"),rowText.length));
		var row = rowText;
		var category = logDatabase[row.name];
		if(category === undefined) {
			category = [];
			logDatabase[row.name] = category;
			summary.innerHTML += 'New category: '+row.name+'<br>';
		}
		category.push(row);
		}catch(E){summary.innerHTML += '<H1>ERROR!' + E.toString() + '</H1>'; return;};
	}
	summarize();
}

function timeDelta(timeArray,aIndex,bIndex){
	var a = timeArray[aIndex];
	var b = timeArray[bIndex];
	return (b.sec - a.sec) * 1000 + (b.nsec - a.nsec) * 1e-6;
}

function addandsubtract(sum,a,b){
	sum.nsec += b.nsec - a.nsec;
	sum.sec += b.sec - a.sec;
	if (sum.nsec > 1000000000) {
		sum.nsec -= 1000000000;
		sum.sec += 1;
	}
}


function processEntry(totals,entryvals){
	var entry = {
		strt : timeDelta(entryvals,0,1),
		prep : timeDelta(entryvals,1,2),
		argc : timeDelta(entryvals,2,3),
		invo : timeDelta(entryvals,3,4),
		resu : timeDelta(entryvals,4,5),
		clea : timeDelta(entryvals,5,6),
		tota : timeDelta(entryvals,0,6)
	};

	totals.strt += entry.strt;
	totals.prep += entry.prep;
	totals.argc += entry.argc;
	totals.invo += entry.invo;
	totals.resu += entry.resu;
	totals.clea += entry.clea;
	totals.tota += entry.tota;

	if(entry.strt < totals.MINstrt)totals.MINstrt = entry.strt;
	if(entry.prep < totals.MINprep)totals.MINprep = entry.prep;
	if(entry.argc < totals.MINargc)totals.MINargc = entry.argc;
	if(entry.invo < totals.MINinvo)totals.MINinvo = entry.invo;
	if(entry.resu < totals.MINresu)totals.MINresu = entry.resu;
	if(entry.clea < totals.MINclea)totals.MINclea = entry.clea;
	if(entry.tota < totals.MINtota)totals.MINtota = entry.tota;

	if(entry.strt > totals.MAXstrt)totals.MAXstrt = entry.strt;
	if(entry.prep > totals.MAXprep)totals.MAXprep = entry.prep;
	if(entry.argc > totals.MAXargc)totals.MAXargc = entry.argc;
	if(entry.invo > totals.MAXinvo)totals.MAXinvo = entry.invo;
	if(entry.resu > totals.MAXresu)totals.MAXresu = entry.resu;
	if(entry.clea > totals.MAXclea)totals.MAXclea = entry.clea;
	if(entry.tota > totals.MAXtota)totals.MAXtota = entry.tota;
}

function rowForTotals(totals){
	var n = totals.n;
	var result = "<tr><td>" + totals.name +
		"</td><td>" + (totals.MINstrt).toFixed(4) + "</td><td>" + (totals.strt/n).toFixed(4) + "</td><td>" + (totals.MAXstrt).toFixed(4) +
		"</td><td>" + (totals.MINprep).toFixed(4) + "</td><td>" + (totals.prep/n).toFixed(4) + "</td><td>" + (totals.MAXprep).toFixed(4) +
		"</td><td>" + (totals.MINargc).toFixed(4) + "</td><td>" + (totals.argc/n).toFixed(4) + "</td><td>" + (totals.MAXargc).toFixed(4) +
		"</td><td>" + (totals.MINinvo).toFixed(4) + "</td><td>" + (totals.invo/n).toFixed(4) + "</td><td>" + (totals.MAXinvo).toFixed(4) +
		"</td><td>" + (totals.MINresu).toFixed(4) + "</td><td>" + (totals.resu/n).toFixed(4) + "</td><td>" + (totals.MAXresu).toFixed(4) +
		"</td><td>" + (totals.MINclea).toFixed(4) + "</td><td>" + (totals.clea/n).toFixed(4) + "</td><td>" + (totals.MAXclea).toFixed(4) +
		"</td><td>" + (totals.MINtota).toFixed(4) + "</td><td>" + (totals.tota/n).toFixed(4) + "</td><td>" + (totals.MAXtota).toFixed(4) +
		"</td><td>" + totals.n +
		"</td><td>" + (totals.tota).toFixed(4) + "</td><td>" + (100*(totals.argc+totals.resu)/totals.tota).toFixed(2) + "</td><td>" + (100*totals.invo/totals.tota).toFixed(2) +
		"</td></tr>";
	return result;
}

function getRadioCheckedValue(radio_name)
{
	var summary = document.getElementById('Summary');
	var oRadio = document.forms[0].elements[radio_name];
	for(var i = 0; i < oRadio.length; i++)
	{
		if(oRadio[i].checked) return oRadio[i].value;
	}
	return '';
}

function summarize(){
	var summary = document.getElementById('Summary');
	var timeClock = getRadioCheckedValue("group1");

	var categories = [];
	var totals = {n:0,name:"TOTAL",
		strt:0,prep:0,argc:0,invo:0,resu:0,clea:0,tota:0,
		MINstrt:0,MINprep:0,MINargc:0,MINinvo:0,MINresu:0,MINclea:0,MINtota:0,
		MAXstrt:0,MAXprep:0,MAXargc:0,MAXinvo:0,MAXresu:0,MAXclea:0,MAXtota:0,	
	};
	count = 0;
	var searchString = new RegExp(document.inputy.searchField.value);
	for (var catName in logDatabase){
		if(!logDatabase.hasOwnProperty(catName) || !catName.match(searchString))continue;
		var category = logDatabase[catName];
		var catLen = category.length;
		var catTotals = {n:catLen,name:catName,
				strt:0,prep:0,argc:0,invo:0,resu:0,clea:0,tota:0,
				MINstrt:0,MINprep:0,MINargc:0,MINinvo:0,MINresu:0,MINclea:0,MINtota:0,
				MAXstrt:0,MAXprep:0,MAXargc:0,MAXinvo:0,MAXresu:0,MAXclea:0,MAXtota:0,
		};
		for (var i=0;i<catLen;i++){
			var entry = category[i][timeClock];
			processEntry(totals,entry);
			processEntry(catTotals,entry);			
		}
		categories.push(catTotals)
		totals.n+=catLen;
		count ++;
	}
	
	categories.sort(function(a, b){return b.n-a.n;});
	var summary = document.getElementById('Summary');
	var output = "<table border=1><tr><td>Name</td><td colspan=3>Startup</td><td colspan=3>Preparation</td>" +
		"<td colspan=3>Arg Conversion</td><td colspan=3>Invocation</td><td colspan=3>Result conversion</td>" +
		"<td colspan=3>Cleanup</td><td colspan=3>Avg Time</td><td>n</td><td>Time spent</td><td>% conversion</td><td>% invocation</td></tr>";
	output += rowForTotals(totals);
	for(var i=0;i<categories.length;i++){
		output += rowForTotals(categories[i]);	
	}
	summary.innerHTML = output + '</table>';
	
}

processText();
</script>

</body></html>